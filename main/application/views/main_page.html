<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Shop Homepage Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">

    <!-- Add custom CSS here -->
    <link href="assets/css/shop-homepage.css" rel="stylesheet">
	<link href="assets/css/responsive_video.css" rel="stylesheet">
	


</head>

<body>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#home">Home</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="#about">About</a>
                    </li>
                    <li><a href="#services">Services</a>
                    </li>
                    <li><a href="#contact">Contact</a>
                    </li>
					<li><a href="<?php echo site_url('account/login_user') ?>">Sign in</a>
                    </li>
					<li><a href="<?php echo site_url('account/register_user') ?>">Sign up</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <div class="container">

        <div class="row">

            <div id="list_category" class="col-md-3">
                <!-- <p class="lead">Video Category</p>
                                <div id="category" class="list-group">
                                    <a href="#" class="list-group-item">Printable</a>
                                    <a href="#" class="list-group-item">Cupcake Wrappers</a>
                                    <a href="#" class="list-group-item">Authentic Dragon Bones</a>
                                </div> -->
            </div>

            <div class="col-md-9">

                <div class="row carousel-holder">

                    <div class="col-md-12">
                        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                            <ol class="carousel-indicators">
                                <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                                <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                                <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                            </ol>
                            <div class="carousel-inner hidden-xs">
                                <div class="item active">
                                    <img class="slide-image" src="http://placehold.it/800x300" alt="">
                                </div>
                                <div class="item">
                                    <img class="slide-image" src="http://placehold.it/800x300" alt="">
                                </div>
                                <div class="item">
                                    <img class="slide-image" src="http://placehold.it/800x300" alt="">
                                </div>
                            </div>
                            <a class="left carousel-control hidden-xs" href="#carousel-example-generic" data-slide="prev">
                                <span class="glyphicon glyphicon-chevron-left"></span>
                            </a>
                            <a class="right carousel-control hidden-xs" href="#carousel-example-generic" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right"></span>
                            </a>
                        </div>
                    </div>

                </div>

                <div id="list_video" class="row">
	
	<!-- ####### need using JavaScript to built below part ####### -->
	<!-- information need for this block is: -->
	<!-- 1. video src -->
	<!-- 2. description -->
	<!-- 3. rating information -->

                    <!-- <div class="col-sm-4 col-lg-4 col-md-4">
                   						<div class="thumbnail">
                   							<div class="span6">
                   								
                                           		<div class="flex-video widescreen"><iframe src='//videos.sproutvideo.com/embed/1c9bd9b01d18e7cf94/ea7ab276cb220754?type=sd' allowfullscreen></iframe></div>
                   							
                   								<div class="caption">	
                   	                                <h4 class="pull-right">$24.99</h4>
                   	                                <h4><a href="#">First Product</a>
                   	                                </h4>
                   	                                <p>See more snippets like this online store item at <a target="_blank" href="http://www.bootsnipp.com">Bootsnipp - http://bootsnipp.com</a>.</p>
                   	                            </div>

                                               	<div class="ratings">
                   	                                <p class="pull-right">15 reviews</p>
                   	                                <p>
                   	                                    <span class="glyphicon glyphicon-star"></span>
                   	                                    <span class="glyphicon glyphicon-star"></span>
                   	                                    <span class="glyphicon glyphicon-star"></span>
                   	                                    <span class="glyphicon glyphicon-star"></span>
                   	                                    <span class="glyphicon glyphicon-star"></span>
                   	                                </p>
                   	                            </div>
                                       		</div>
                   						</div>
                   					</div>	 -->
					
	<!-- ####### need using JavaScript to built above part ####### -->		
					

                    <!-- <div class="col-sm-4 col-lg-4 col-md-4">
                                            <div class="thumbnail">
                                                <img src="http://placehold.it/320x150" alt="">
                                                <div class="caption">
                                                    <h4 class="pull-right">$64.99</h4>
                                                    <h4><a href="#">Second Product</a>
                                                    </h4>
                                                    <p>This is a short description. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                                </div>
                                                <div class="ratings">
                                                    <p class="pull-right">12 reviews</p>
                                                    <p>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star-empty"></span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-4 col-lg-4 col-md-4">
                                            <div class="thumbnail">
                                                <img src="http://placehold.it/320x150" alt="">
                                                <div class="caption">
                                                    <h4 class="pull-right">$74.99</h4>
                                                    <h4><a href="#">Third Product</a>
                                                    </h4>
                                                    <p>This is a short description. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                                </div>
                                                <div class="ratings">
                                                    <p class="pull-right">31 reviews</p>
                                                    <p>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star-empty"></span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-4 col-lg-4 col-md-4">
                                            <div class="thumbnail">
                                                <img src="http://placehold.it/320x150" alt="">
                                                <div class="caption">
                                                    <h4 class="pull-right">$84.99</h4>
                                                    <h4><a href="#">Fourth Product</a>
                                                    </h4>
                                                    <p>This is a short description. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                                </div>
                                                <div class="ratings">
                                                    <p class="pull-right">6 reviews</p>
                                                    <p>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star-empty"></span>
                                                        <span class="glyphicon glyphicon-star-empty"></span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-4 col-lg-4 col-md-4">
                                            <div class="thumbnail">
                                                <img src="http://placehold.it/320x150" alt="">
                                                <div class="caption">
                                                    <h4 class="pull-right">$94.99</h4>
                                                    <h4><a href="#">Fifth Product</a>
                                                    </h4>
                                                    <p>This is a short description. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                                </div>
                                                <div class="ratings">
                                                    <p class="pull-right">18 reviews</p>
                                                    <p>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star"></span>
                                                        <span class="glyphicon glyphicon-star-empty"></span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-4 col-lg-4 col-md-4">
                                            <h4><a href="#">Like this template?</a>
                                            </h4>
                                            <p>If you like this template, then check out <a target="_blank" href="http://maxoffsky.com/code-blog/laravel-shop-tutorial-1-building-a-review-system/">this tutorial</a> on how to build a working review system for your online store!</p>
                                            <a class="btn btn-primary" target="_blank" href="http://maxoffsky.com/code-blog/laravel-shop-tutorial-1-building-a-review-system/">View Tutorial</a>
                                        </div>

                                    </div>

                                </div>

                            </div> -->

    </div>
    <!-- /.container -->

    <div class="container">

        <hr>

        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Company 2013 - Template by <a href="http://maxoffsky.com/">Maks</a>
                    </p>
					<p>
						<?php //var_dump($category_name) ?>
						
						<br />
						<?php //echo ($url); ?>
					</p>
					
					<div id="json_return"></div>
						
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->



	<script>
		// var return = <?php echo $category_name; ?>;
		// 		return.appendTo('#json_return')
		// $.getJSON( "ajax/test.json", function( data ) {
		// 		var items = [];
		// 		$.each( data, function( key, val ) {
		// 		items.push( "<li id='" + key + "'>" + val + "</li>" );
		// 		});
		// 		$( "<ul/>", {
		// 		"class": "my-new-list",
		// 		html: items.join( "" )
		// 		}).appendTo( "body" );
		// 		});
		
	</script>
	

    <!-- JavaScript -->
    <script src="assets/js/jquery-1.10.2.js"></script>
    <script src="assets/js/bootstrap.js"></script>
	<script src="assets/js/landingpage.js"></script>
	<script>
	
	function generateVideoTags(data)
	{
		var outputVideo = '';
		outputVideo += "<div class=\"col-sm-4 col-lg-4 col-md-4\"><div class=\"thumbnail\"><div class=\"span6\"><div class=\"flex-video widescreen\"><iframe src=\'";
		outputVideo += data.link;
		outputVideo += "\' allowfullscreen></iframe></div><div class=\"caption\"><h4 class=\"pull-right\"></h4><h4><a href=\"#\">" + data.name + "</a></h4><p>" + data.description +  "</p></div><div class=\"ratings\"><p class=\"pull-right\">15 reviews</p><span class=\"glyphicon glyphicon-star\"></span><span class=\"glyphicon glyphicon-star\"></span><span class=\"glyphicon glyphicon-star\"></span><span class=\"glyphicon glyphicon-star\"></span></p></div></div></div></div>";
		return outputVideo;
	}



	function load (url) {
		// var result = <?php echo $category_name ?>
		// triger codeigniter controller to pick return
/* 		$.ajaxSetup({
			timeout: 6000
		});
		console.log(url); */
		$.getJSON( url + '/main_page/build_category', function(data){
			// console.log(data[1].type);
			// console.log(data.length);
			var outputVideo = '';
			for (var i=0; i < data.length; i++) {
				outputVideo += generateVideoTags(data[i]);
			};
			var outputType =  "<p class=\"lead\">Video Category</p><div id=\"category\" class=\"list-group\">";
			outputType += "<a href=\"all_type.html\" class=\"list-group-item\">All Category</a>";
			outputType += "<a href=\"" + data[0].type + ".html\" class=\"list-group-item\">" + data[0].type + "</a>";
			for (var i=1; i < data.length; i++) {
				if(data[i].type != data[i-1].type){
					outputType += "<a href=\""+ data[i].type +".html\" class=\"list-group-item\">";
					outputType += data[i].type;
					outputType += "</a>";
				}
			}
				outputType += "</div>";
				// console.log(outputVideo);
				$('#list_category').html(outputType);
				$('#list_video').html(outputVideo);
				
		
			$('#list_category').mouseenter(loadVideoByCategory);

			function loadVideoByCategory(){
				$('#category').find('a').on('click', function(e){
					e.preventDefault();
					var type = $(this).attr('href');
					var index = type.indexOf('.');
					type = type.slice(0, index);
					// console.log(type);
					var outputVideo = '';
					
					if (type == 'all_type'){
						for (var i=0; i<data.length; i++){
							outputVideo += generateVideoTags(data[i]);
						}
					}else{
						for (var i=0; i < data.length; i++) {
							// console.log(data[i].type);
							if (type == data[i].type) {
								outputVideo += generateVideoTags(data[i]);
							}
						}
					}	
					$('#list_video').html(outputVideo);
				})
			}
		
		
		}) // getJSON end 
	}</script>
	<script>
		var url = "<?php echo $url ?>"
		window.onload = load(url);
	</script>
	"<?php echo $url ?>"

	<script>
			
			
		
		</script>
			
		

</body>

</html>
